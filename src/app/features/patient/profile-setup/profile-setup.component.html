<div class="min-h-screen bg-gray-50 py-8">
  <!-- Toast Notification -->
  <div *ngIf="showToast" class="fixed top-4 right-4 z-50">
    <div class="bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg flex items-center">
      <i class="fas fa-check-circle mr-2"></i>
      <span>{{toastMessage}}</span>
      <button (click)="showToast = false" class="ml-4 text-white hover:text-gray-200">
        <i class="fas fa-times"></i>
      </button>
    </div>
  </div>

  <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
    <!-- Header -->
    <div class="mb-8">
      <div class="flex items-center justify-between">
        <div>
          <h1 class="text-3xl font-bold text-gray-900">Complete Your Profile</h1>
          <p class="text-gray-600 mt-2">Please fill in your basic information to get started</p>
        </div>
        <button
          (click)="goBackToDashboard()"
          class="text-gray-600 hover:text-gray-800 transition-colors">
          <i class="fas fa-arrow-left mr-2"></i>Back to Dashboard
        </button>
      </div>
    </div>

    <!-- Profile Form -->
    <div class="bg-white shadow rounded-lg">
      <form (ngSubmit)="saveProfile()" class="p-6 space-y-6">
        <!-- Personal Information Section -->
        <div>
          <h2 class="text-xl font-semibold text-gray-900 mb-4">Personal Information</h2>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <!-- Full Name -->
            <div>
              <label for="fullName" class="block text-sm font-medium text-gray-700 mb-2">
                Full Name <span class="text-red-600">*</span>
              </label>
              <input
                type="text"
                id="fullName"
                [(ngModel)]="profile.fullName"
                name="fullName"
                required
                class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent"
                placeholder="Enter your full name">
            </div>

            <!-- Phone -->
            <div>
              <label for="phone" class="block text-sm font-medium text-gray-700 mb-2">
                Phone Number <span class="text-red-600">*</span>
              </label>
              <input
                type="tel"
                id="phone"
                [(ngModel)]="profile.phone"
                name="phone"
                required
                class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent"
                placeholder="Enter your phone number">
            </div>

            <!-- Date of Birth -->
            <div>
              <label for="dateOfBirth" class="block text-sm font-medium text-gray-700 mb-2">
                Date of Birth <span class="text-red-600">*</span>
              </label>
              <input
                type="date"
                id="dateOfBirth"
                [(ngModel)]="profile.dateOfBirth"
                name="dateOfBirth"
                required
                class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent">
            </div>

            <!-- Gender -->
            <div>
              <label for="gender" class="block text-sm font-medium text-gray-700 mb-2">
                Gender <span class="text-red-600">*</span>
              </label>
              <select
                id="gender"
                [(ngModel)]="profile.gender"
                name="gender"
                class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent">
                <option value="">Select Gender</option>
                <option value="male">Male</option>
                <option value="female">Female</option>
                <option value="other">Other</option>
                <option value="prefer-not-to-say">Prefer not to say</option>
              </select>
            </div>
          </div>

          <!-- Address -->
          <div class="mt-6">
            <label for="address" class="block text-sm font-medium text-gray-700 mb-2">
              Address <span class="text-red-600">*</span>
            </label>
            <textarea
              id="address"
              [(ngModel)]="profile.address"
              name="address"
              rows="3"
              required
              class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent"
              placeholder="Enter your complete address"></textarea>
          </div>
        </div>

        <!-- Emergency Contact Section -->
        <div>
          <h2 class="text-xl font-semibold text-gray-900 mb-4">Emergency Contact</h2>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <!-- Emergency Contact Name -->
            <div>
            <label for="emergencyContact" class="block text-sm font-medium text-gray-700 mb-2">
                Emergency Contact Name <span class="text-red-600">*</span>
              </label>
              <input
                type="text"
                id="emergencyContact"
                [(ngModel)]="profile.emergencyContact"
                name="emergencyContact"
                class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent"
                placeholder="Enter emergency contact name">
            </div>

            <!-- Emergency Phone -->
            <div>
            <label for="emergencyPhone" class="block text-sm font-medium text-gray-700 mb-2">
                Emergency Contact Phone <span class="text-red-600">*</span>
              </label>
              <input
                type="tel"
                id="emergencyPhone"
                [(ngModel)]="profile.emergencyPhone"
                name="emergencyPhone"
                class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent"
                placeholder="Enter emergency contact phone">
            </div>
          </div>
        </div>

        <!-- Medical Information Section -->
        <div>
          <h2 class="text-xl font-semibold text-gray-900 mb-4">Medical Information (Optional)</h2>

          <!-- Medical History -->
          <div class="mb-6">
            <label for="medicalHistory" class="block text-sm font-medium text-gray-700 mb-2">
              Medical History
            </label>
            <textarea
              id="medicalHistory"
              [(ngModel)]="profile.medicalHistory"
              name="medicalHistory"
              rows="3"
              class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent"
              placeholder="Please describe any relevant medical history"></textarea>
          </div>

          <!-- Allergies -->
          <div class="mb-6">
            <label for="allergies" class="block text-sm font-medium text-gray-700 mb-2">
              Known Allergies
            </label>
            <textarea
              id="allergies"
              [(ngModel)]="profile.allergies"
              name="allergies"
              rows="2"
              class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent"
              placeholder="List any known allergies (medications, food, environmental, etc.)"></textarea>
          </div>

          <!-- Current Medications -->
          <div>
            <label for="currentMedications" class="block text-sm font-medium text-gray-700 mb-2">
              Current Medications
            </label>
            <textarea
              id="currentMedications"
              [(ngModel)]="profile.currentMedications"
              name="currentMedications"
              rows="2"
              class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent"
              placeholder="List current medications and dosages"></textarea>
          </div>
        </div>

        <!-- Submit Button -->
        <div class="flex justify-end space-x-4 pt-6 border-t border-gray-200">
          <button
            type="button"
            (click)="goBackToDashboard()"
            class="px-6 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors">
            Skip for Now
          </button>
          <button
            type="submit"
            [disabled]="isSubmitting"
            class="px-6 py-2 bg-teal-600 text-white rounded-md hover:bg-teal-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed">
            <span *ngIf="!isSubmitting">Save Profile</span>
            <span *ngIf="isSubmitting" class="flex items-center">
              <i class="fas fa-spinner fa-spin mr-2"></i>
              Saving...
            </span>
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
